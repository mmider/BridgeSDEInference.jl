<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Blocking · BridgeSDEInference.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>BridgeSDEInference.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Tutorial</span><ul><li><a class="toctext" href="../../man/overview/">Workflow</a></li><li><a class="toctext" href="../../man/model_definition/">Defining a diffusion</a></li><li><a class="toctext" href="../../man/generate_data/">Data generation</a></li><li><a class="toctext" href="../../man/diffusion_setup/">Diffusion Setup</a></li><li><a class="toctext" href="../../man/mcmc_setup/">MCMC Setup</a></li><li><a class="toctext" href="../../man/run/">Running the sampler</a></li><li><a class="toctext" href="../../man/query/">Querying the results</a></li></ul></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="../../examples/fitzhugh_nagumo/">FitzHugh-Nagumo model</a></li><li><a class="toctext" href="../../examples/jansen_rit/">Jansen-Rit model</a></li><li><a class="toctext" href="../../examples/lorenz63/">Lorenz63 system</a></li><li><a class="toctext" href="../../examples/lorenz96/">Lorenz96 system</a></li><li><a class="toctext" href="../../examples/prokaryote/">Prokaryotic autoregulatory gene network</a></li><li><a class="toctext" href="../../examples/sine/">Sine diffusion</a></li></ul></li><li><a class="toctext" href="../../vis/visualisation/">Visualisation tools</a></li><li><span class="toctext">Extras</span><ul><li><a class="toctext" href="../generic_mcmc/">Generic MCMC</a></li><li><a class="toctext" href="../first_passage_times/">First passage times</a></li><li class="current"><a class="toctext" href>Blocking</a><ul class="internal"><li><a class="toctext" href="#Blocking-1">Blocking</a></li></ul></li></ul></li><li><span class="toctext">Adaptations</span><ul><li><a class="toctext" href="../../adaptations/adaptive_proposals/">Adaptive proposals</a></li><li><a class="toctext" href="../../adaptations/fusion/">Fusion</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Extras</li><li><a href>Blocking</a></li></ul><a class="edit-page" href="https://github.com/mmider/BridgeSDEInference.jl/blob/master/docs/src/extras/blocking.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Blocking</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="blocking_header-1" href="#blocking_header-1">Blocking</a></h1><p>NOTE THESE DESCRIPTIONS ARE DEPRECATED AND WILL CHANGE</p><h2><a class="nav-anchor" id="Blocking-1" href="#Blocking-1">Blocking</a></h2><p>Currently two choices of blocking are available:</p><ul><li>Either no blocking at all, which is the default behaviour of <code>set_blocking!</code></li></ul><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BridgeSDEInference.NoBlocking" href="#BridgeSDEInference.NoBlocking"><code>BridgeSDEInference.NoBlocking</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">struct NoBlocking &lt;: BlockingSchedule end</code></pre><p>Regular updates with no blocking</p></div></div><a class="source-link" target="_blank" href="https://github.com/mmider/BridgeSDEInference.jl/blob/388329f88941c2b625d4519fa1c7240f05da3dc5/src/general/types.jl#L118-L122">source</a></section><ul><li>Or blocking using the chequerboard updating scheme.</li></ul><pre><code class="language-none">ChequeredBlocking</code></pre><p>For chequerboard updating scheme, at each observation a knot can be (but does not have to be) placed. IMPORTANT: The knot indexing starts at the first non-starting point observation. Suppose we have, say, <code>20</code> observations (excluding the starting point). Let&#39;s put a knot on every other observation, ending up with knots on observations with indices: <code>[2,4,6,8,10,12,14,16,18,20]</code>. Chequerboard updating scheme splits these knots into two, disjoint, interlaced subsets, i.e. <code>[2,6,10,14,18]</code> and <code>[4,8,12,16,20]</code>. This also splits the path into two interlaced sets of blocks: <code>[1–2,3–6,7–10,11–14,15–18,19–20]</code>, <code>[1–4,5–8,9–12,13–16,17–20]</code> (where interval indexing starts with interval 1, whose end-points are the starting point and the first non-starting point observation). The path is updated in blocks. First, blocks <code>[1–2,3–6,7–10,11–14,15–18,19–20]</code> are updated conditionally on full and exact observations indexed with <code>[2,6,10,14,18]</code>, as well as all the remaining, partial observations (indexed by <code>[1,2,3,...,20]</code>). Then, the other set of blocks is updated in the same manner. This is then repeated. To define the blocking behaviour, only the following needs to be written:</p><pre><code class="language-julia">blocking = ChequeredBlocking()
blocking_params = (collect(2:20)[1:2:end], 10^(-10), SimpleChangePt(100))</code></pre><p>The first defines the blocking updating scheme (in the future there might be a larger choice). The second line places the knots on <code>[2,4,6,8,10,12,14,16,18,20]</code>. Splitting into appropriate subsets is done internally. <code>10^(-10)</code> is an artificial noise parameter that needs to be added for the numerical purposes. Ideally we want this to be as small as possible, however the algorithm may have problems with dealing with very small values. The last arguments aims to remedy this. <code>SimpleChangePt(100)</code> has two functions. One, it is a flag to the <code>mcmc</code> sampler that two sets of ODE solvers need to be employed: for the segment directly adjacent to a knot from the left ODE solvers for <code>M⁺</code>, <code>L</code>, <code>μ</code> are employed and <code>H</code>, <code>Hν</code> and <code>c</code> are computed as a by-product. On the remaining part of blocks, the ODE solvers for <code>H</code>, <code>Hν</code> and <code>c</code> are used directly. The second function of <code>SimpleChangePt()</code> is to indicate the point at which a change needs to be made between these two solvers (which for the example above is set to <code>100</code>). The reason for this functionality is that solvers for <code>M⁺</code>, <code>L</code>, <code>μ</code> are more tolerant to very small values of the artificial noise.</p><p>To define an MCMC sampler with no blocking nothing needs to be done (it&#39;s a default). Alternatively, one can call</p><pre><code class="language-julia">set_blocking!()</code></pre><p>It resets the blocking to none. To pass the blocking scheme defined above one could call</p><pre><code class="language-julia">set_blocking!(setup, blocking, blocking_params)</code></pre><footer><hr/><a class="previous" href="../first_passage_times/"><span class="direction">Previous</span><span class="title">First passage times</span></a><a class="next" href="../../adaptations/adaptive_proposals/"><span class="direction">Next</span><span class="title">Adaptive proposals</span></a></footer></article></body></html>
