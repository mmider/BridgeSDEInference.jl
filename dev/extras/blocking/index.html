<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Blocking · BridgeSDEInference.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">BridgeSDEInference.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Tutorial</span><ul><li><a class="tocitem" href="../../man/overview/">Workflow</a></li><li><a class="tocitem" href="../../man/model_definition/">Defining a diffusion</a></li><li><a class="tocitem" href="../../man/generate_data/">Data generation</a></li><li><a class="tocitem" href="../../man/diffusion_setup/">Diffusion Setup</a></li><li><a class="tocitem" href="../../man/mcmc_setup/">MCMC Setup</a></li><li><a class="tocitem" href="../../man/run/">Running the sampler</a></li><li><a class="tocitem" href="../../man/query/">Querying the results</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/fitzhugh_nagumo/">FitzHugh-Nagumo model</a></li><li><a class="tocitem" href="../../examples/jansen_rit/">Jansen-Rit model</a></li><li><a class="tocitem" href="../../examples/lorenz63/">Lorenz63 system</a></li><li><a class="tocitem" href="../../examples/lorenz96/">Lorenz96 system</a></li><li><a class="tocitem" href="../../examples/prokaryote/">Prokaryotic autoregulatory gene network</a></li><li><a class="tocitem" href="../../examples/sine/">Sine diffusion</a></li></ul></li><li><a class="tocitem" href="../../vis/visualisation/">Visualisation tools</a></li><li><span class="tocitem">Extras</span><ul><li><a class="tocitem" href="../generic_mcmc/">Generic MCMC</a></li><li><a class="tocitem" href="../first_passage_times/">First passage times</a></li><li class="is-active"><a class="tocitem" href>Blocking</a><ul class="internal"><li><a class="tocitem" href="#Blocking-1"><span>Blocking</span></a></li></ul></li></ul></li><li><span class="tocitem">Adaptations</span><ul><li><a class="tocitem" href="../../adaptations/adaptive_proposals/">Adaptive proposals</a></li><li><a class="tocitem" href="../../adaptations/fusion/">Fusion</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Extras</a></li><li class="is-active"><a href>Blocking</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Blocking</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mmider/BridgeSDEInference.jl/blob/master/docs/src/extras/blocking.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="blocking_header-1"><a class="docs-heading-anchor" href="#blocking_header-1">Blocking</a><a class="docs-heading-anchor-permalink" href="#blocking_header-1" title="Permalink"></a></h1><p>NOTE THESE DESCRIPTIONS ARE DEPRECATED AND WILL CHANGE</p><h2 id="Blocking-1"><a class="docs-heading-anchor" href="#Blocking-1">Blocking</a><a class="docs-heading-anchor-permalink" href="#Blocking-1" title="Permalink"></a></h2><p>Currently two choices of blocking are available:</p><ul><li>Either no blocking at all, which is the default behaviour of <code>set_blocking!</code></li></ul><article class="docstring"><header><a class="docstring-binding" id="BridgeSDEInference.NoBlocking" href="#BridgeSDEInference.NoBlocking"><code>BridgeSDEInference.NoBlocking</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct NoBlocking &lt;: BlockingSchedule end</code></pre><p>Regular updates with no blocking</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mmider/BridgeSDEInference.jl/blob/cddf2ebe662e3613198b9686310cc6188570197e/src/general/types.jl#L118-L122">source</a></section></article><ul><li>Or blocking using the chequerboard updating scheme.</li></ul><pre><code class="language-none">ChequeredBlocking</code></pre><p>For chequerboard updating scheme, at each observation a knot can be (but does not have to be) placed. IMPORTANT: The knot indexing starts at the first non-starting point observation. Suppose we have, say, <code>20</code> observations (excluding the starting point). Let&#39;s put a knot on every other observation, ending up with knots on observations with indices: <code>[2,4,6,8,10,12,14,16,18,20]</code>. Chequerboard updating scheme splits these knots into two, disjoint, interlaced subsets, i.e. <code>[2,6,10,14,18]</code> and <code>[4,8,12,16,20]</code>. This also splits the path into two interlaced sets of blocks: <code>[1–2,3–6,7–10,11–14,15–18,19–20]</code>, <code>[1–4,5–8,9–12,13–16,17–20]</code> (where interval indexing starts with interval 1, whose end-points are the starting point and the first non-starting point observation). The path is updated in blocks. First, blocks <code>[1–2,3–6,7–10,11–14,15–18,19–20]</code> are updated conditionally on full and exact observations indexed with <code>[2,6,10,14,18]</code>, as well as all the remaining, partial observations (indexed by <code>[1,2,3,...,20]</code>). Then, the other set of blocks is updated in the same manner. This is then repeated. To define the blocking behaviour, only the following needs to be written:</p><pre><code class="language-julia">blocking = ChequeredBlocking()
blocking_params = (collect(2:20)[1:2:end], 10^(-10), SimpleChangePt(100))</code></pre><p>The first defines the blocking updating scheme (in the future there might be a larger choice). The second line places the knots on <code>[2,4,6,8,10,12,14,16,18,20]</code>. Splitting into appropriate subsets is done internally. <code>10^(-10)</code> is an artificial noise parameter that needs to be added for the numerical purposes. Ideally we want this to be as small as possible, however the algorithm may have problems with dealing with very small values. The last arguments aims to remedy this. <code>SimpleChangePt(100)</code> has two functions. One, it is a flag to the <code>mcmc</code> sampler that two sets of ODE solvers need to be employed: for the segment directly adjacent to a knot from the left ODE solvers for <code>M⁺</code>, <code>L</code>, <code>μ</code> are employed and <code>H</code>, <code>Hν</code> and <code>c</code> are computed as a by-product. On the remaining part of blocks, the ODE solvers for <code>H</code>, <code>Hν</code> and <code>c</code> are used directly. The second function of <code>SimpleChangePt()</code> is to indicate the point at which a change needs to be made between these two solvers (which for the example above is set to <code>100</code>). The reason for this functionality is that solvers for <code>M⁺</code>, <code>L</code>, <code>μ</code> are more tolerant to very small values of the artificial noise.</p><p>To define an MCMC sampler with no blocking nothing needs to be done (it&#39;s a default). Alternatively, one can call</p><pre><code class="language-julia">set_blocking!()</code></pre><p>It resets the blocking to none. To pass the blocking scheme defined above one could call</p><pre><code class="language-julia">set_blocking!(setup, blocking, blocking_params)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../first_passage_times/">« First passage times</a><a class="docs-footer-nextpage" href="../../adaptations/adaptive_proposals/">Adaptive proposals »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 20 March 2020 08:24">Friday 20 March 2020</span>. Using Julia version 1.2.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
